





<!DOCTYPE html>
<html class="writer-html5" lang="kr" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>디자인과 아키텍쳐 &mdash; tvm 0.8.dev0 documentation</title>
  

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/tlcpack_theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-rendered-html.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/tvm-logo-square.png"/>
  

  
  
  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <script type="text/javascript" src="../_static/js/tlcpack_theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="TVM 런타임 시스템" href="runtime.html" />
    <link rel="prev" title="다른 API 참조를 위한 링크" href="../api/links.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    
<header class="header">
    <div class="innercontainer">
      <div class="headerInner d-flex justify-content-between align-items-center">
          <div class="headerLogo">
               <a href="https://tvm.apache.org/"><img src=https://tvm.apache.org/assets/images/logo.svg alt="logo"></a>
          </div>

          <div id="headMenu" class="headerNav">
            <button type="button" id="closeHeadMenu" class="navCloseBtn"><img src="../_static/img/close-icon.svg" alt="Close"></button>
             <ul class="nav">
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/community>Community</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/download>Download</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/vta>VTA</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/blog>Blog</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvm.apache.org/docs>Docs</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://tvmconf.org>Conference</a>
                </li>
                <li class="nav-item">
                   <a class="nav-link" href=https://github.com/apache/tvm/>Github</a>
                </li>
             </ul>
               <div class="responsivetlcdropdown">
                 <button type="button" class="btn-link">
                   ASF
                 </button>
                 <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/security/>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                 </ul>
               </div>
          </div>
            <div class="responsiveMenuIcon">
              <button type="button" id="menuBtn" class="btn-menu"><img src="../_static/img/menu-icon.svg" alt="Menu Icon"></button>
            </div>

            <div class="tlcDropdown">
              <div class="dropdown">
                <button type="button" class="btn-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  ASF
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                  <ul>
                     <li>
                       <a href=https://apache.org/>Apache Homepage</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/licenses/>License</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/security/>Security</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/foundation/thanks.html>Thanks</a>
                     </li>
                     <li>
                       <a href=https://www.apache.org/events/current-event>Events</a>
                     </li>
                  </ul>
                </div>
              </div>
          </div>
       </div>
    </div>
 </header>
 
    <nav data-toggle="wy-nav-shift" class="wy-nav-side fixed">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/tvm-logo-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.8.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">입문</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">설치</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">TVM에 기여하기</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/index.html">구현과 탑재</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to.html">Developer How-To Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">튜토리얼</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Get Started Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#compile-deep-learning-models">Compile Deep Learning Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#tensor-expression-and-schedules">Tensor Expression and Schedules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#optimize-tensor-operators">Optimize Tensor Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#autotvm-template-based-auto-tuning">AutoTVM : Template-based Auto Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#autoscheduler-template-free-auto-scheduling">AutoScheduler : Template-free Auto Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#developer-tutorials">Developer Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#topi-tvm-operator-inventory">TOPI: TVM Operator Inventory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html#micro-tvm">Micro TVM</a></li>
</ul>
<p class="caption"><span class="caption-text">참고 자료</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../langref/index.html">언어 레퍼런스</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/python/index.html">파이썬 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/links.html">다른 API 참조를 위한 링크</a></li>
</ul>
<p class="caption"><span class="caption-text">심층 해설</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">디자인과 아키텍쳐</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example-compilation-flow">컴파일 과정 예시</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#key-data-structures">핵심 데이터 구조</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transformations">변형</a></li>
<li class="toctree-l3"><a class="reference internal" href="#search-space-and-learning-based-transformations">탐색 공간과 학습 기반 변형</a></li>
<li class="toctree-l3"><a class="reference internal" href="#target-translation">타겟 번역</a></li>
<li class="toctree-l3"><a class="reference internal" href="#runtime-execution">런타임 실행</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary-and-discussions">요약 및 토론</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#logical-architecture-components">아키텍쳐 논리 구성 요소</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-support">tvm/support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-runtime">tvm/runtime</a><ul>
<li class="toctree-l3"><a class="reference internal" href="runtime.html">TVM 런타임 시스템</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugger.html">Debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtual_machine.html">Putting the VM in TVM: The Relay Virtual Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="introduction_to_module_serialization.html">Introduction to Module Serialization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-node">tvm/node</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-ir">tvm/ir</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pass_infra.html">패스 인프라스트럭쳐</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-target">tvm/target</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-tir">tvm/tir</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-arith">tvm/arith</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-te">tvm/te</a><ul>
<li class="toctree-l3"><a class="reference internal" href="inferbound.html">InferBound Pass</a></li>
<li class="toctree-l3"><a class="reference internal" href="hybrid_script.html">Hybrid Frontend Developer Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-topi">tvm/topi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-relay">tvm/relay</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relay_intro.html">Relay IR 소개</a></li>
<li class="toctree-l3"><a class="reference internal" href="relay_op_strategy.html">Relay Operator Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="convert_layout.html">Convert Layout Pass</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tvm-autotvm">tvm/autotvm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="benchmark.html">벤치마크 성능 로그 포맷</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#frontends">프론트엔드</a><ul>
<li class="toctree-l3"><a class="reference internal" href="frontend/tensorflow.html">텐서플로우 프론트엔드</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#security">Security</a><ul>
<li class="toctree-l3"><a class="reference internal" href="security.html">보안 가이드</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">기타</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vta/index.html">VTA: 딥러닝 가속기 스택</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">자주 묻는 질문(FAQ)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">인덱스</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      
      <nav class="wy-nav-top" aria-label="top navigation" data-toggle="wy-nav-top">
        
            <div class="togglemenu">

            </div>
            <div class="nav-content">
              <!-- tvm -->
              Table of content
            </div>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        

          




















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> <span class="br-arrow">></span></li>
        
      <li>디자인과 아키텍쳐</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/dev/index.rst.txt" rel="nofollow"> <img src="../_static//img/source.svg" alt="viewsource"/></a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="design-and-architecture">
<h1>디자인과 아키텍쳐<a class="headerlink" href="#design-and-architecture" title="Permalink to this headline">¶</a></h1>
<p>이 문서는 TVM의 아키텍쳐를 이해하고 TVM 프로젝트에 적극적으로 참여하고자 하는 개발자들을 대상으로 쓰여졌습니다. 이 페이지는 다음과 같이 구성됩니다:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#example-compilation-flow">컴파일 과정 예시</a> 에서는 TVM이 고급 표현으로 서술된 모델을 탑재 가능한 모듈의 형태로 변환하는 절차들을 전체적으로 훑어 봅니다. 바로 시작하려면, 첫번째 섹션을 읽어 주세요.</p></li>
<li><p><a class="reference internal" href="#logical-architecture-components">아키텍쳐 논리 구성 요소</a> 섹션은 논리적인 구성 요소들에 대해 서술합니다. 이후 섹션들은 논리 요소들의 명칭 별로 각각에 특화된 가이드를 담고 있습니다.</p></li>
<li><p>유용한 개발팁을 얻으려면 <a class="reference internal" href="how_to.html#dev-how-to"><span class="std std-ref">Developer How-To Guide</span></a> 도 놓치지 마세요.</p></li>
</ul>
<p>이 가이드는 아키텍쳐에 대해 생각해 볼 내용들도 몇 가지 제시합니다. 첫째, 개별 종단간(end-to-end) 전체 컴파일 과정을 리뷰해 보고 핵심 데이터 구조 및 변형에 대해 논의할 것입니다. 이러한 런타임 기반 관점으로 컴파일러가 동작할 때 각 구성 요소의 상호 작용에 더 집중할 수 있습니다. 그리고 코드베이스의 논리 모듈들과 상호 관련성에 대해서 리뷰할 것입니다. 이 부분은 디자인 자체를 런타임과 관계없이 조망하는 절대적 관점을 제공합니다.</p>
<div class="section" id="example-compilation-flow">
<h2>컴파일 과정 예시<a class="headerlink" href="#example-compilation-flow" title="Permalink to this headline">¶</a></h2>
<p>이 가이드를 통해 컴파일러의 컴파일레이션 과정 예시를 공부해 봅시다. 아래의 그림이 바로 그 과정입니다. 거시적으로 몇몇 단계가 포함됩니다:</p>
<ul class="simple">
<li><p>불러오기(Import): 프론트엔드 요소는 주어진 모델을 IRModule로 소화해 내며, IRModule은 내부적으로 모델을 표현하는 함수들의 집합을 포함합니다.</p></li>
<li><p>변형(Transformation): 컴파일러는 IRModule을 기능적으로 동등 내지는 근사적으로 동등(양자화 처리된 경우)한 다른 IRModule로 변형합니다. 대개의 변형은 타겟(백엔드)에 독립적이지만, 변형 파이프라인 설정이 타겟에 영향을 받도록 할 수도 있습니다.</p></li>
<li><p>타겟 번역(Target Translation): 컴파일러는 IRModule을 타겟이 지정하는 실행 포맷으로 번역(codegen)합니다. 타겟 번역의 결과물은 <cite>runtime.Module</cite> 로 포장되어, 내보내기, 로딩, 타겟의 런타임 환경에서 실행하기가 가능해집니다.</p></li>
<li><p>런타임 실행(Runtime Execution): 사용자는 <cite>runtime.Module</cite> 을 읽어들여 지원되는 런타임 환경 하에서 컴파일된 함수들을 수행합니다.</p></li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/tlcpack/web-data/main/images/design/tvm_dyn_workflow.svg"><img alt="https://raw.githubusercontent.com/tlcpack/web-data/main/images/design/tvm_dyn_workflow.svg" src="https://raw.githubusercontent.com/tlcpack/web-data/main/images/design/tvm_dyn_workflow.svg" width="85%" /></a>
</div>
<div class="section" id="key-data-structures">
<h3>핵심 데이터 구조<a class="headerlink" href="#key-data-structures" title="Permalink to this headline">¶</a></h3>
<p>복잡한 시스템을 디자인하고 이해하는 가장 좋은 방법 중의 하나는 핵심 데이터 구조와 그런 데이터 구조를 조작(변형)하는 API들을 파악해 보는 것입니다. 일단 핵심 데이터 구조를 파악하고 나면, 핵심 데이터 구조의 덩어리를 정의하거나 데이터 구조 간의 변형를 담당하는 두 부류의 논리 요소들로 전체 시스템을 환원할 수 있습니다.</p>
<p><strong>IRModule</strong> 은 스택 전체에서 광범위하게 사용되는 주요 데이터 구조입니다. IRModule(intermediate representation module)은 함수의 모음을 포함합니다. 현재 두 가지의 주요 함수 변종을 지원합니다.</p>
<ul class="simple">
<li><p><strong>relay::Function</strong> 은 고수준 함수형 프로그램 표현입니다. relay.Function 은 보통 종단간(end-to-end) 모델에 대응하는데, 흐름 제어, 재귀, 복잡한 데이터 구조를 추가적으로 지원하는 계산 그래프로 생각해도 됩니다.</p></li>
<li><p><strong>tir::PrimFunc</strong> 는 저수준 프로그램 표현으로, 중첩 루프 허용 선택, 다차원 로드/스토어, 쓰레딩, 벡터/텐서 명령어들의 요소들을 포함합니다. 모델 내에서 (대개는 융합된) 레이어를 실행하는 연산자 프로그램을 표현하는 데에 주로 사용됩니다.</p></li>
</ul>
<p>컴파일 과정에서, relay 함수는 다수의 tir::PrimFunc 함수들과 이들 함수를 호출하는 최상위 함수들로 저수준화됩니다.</p>
</div>
<div class="section" id="transformations">
<h3>변형<a class="headerlink" href="#transformations" title="Permalink to this headline">¶</a></h3>
<p>중요 데이터 구조들을 훑어 봤으니, 이제 변형에 대해 얘기해 봅시다. 각 변형이 추구하는 목표는 다음 항목들 중 하나입니다:</p>
<ul class="simple">
<li><p>최적화: 어떤 프로그램을 기능적으로 동등하면서 보다 최적화된 버젼으로 변형하는 것</p></li>
<li><p>저수준화: 어떤 프로그램을 타겟에 보다 가까운 저수준 표현식으로 변형하는 것</p></li>
</ul>
<p><strong>relay/transform</strong> 은 모델을 최적화하는 패스들의 모음을 담고 있습니다. 상수 폴딩, 죽은 코드 제거 등과 같은 범용 프로그램 최적화를 비롯, 레이어 변형이나 스케일링 요소 폴딩 등의 텐서 계산에 특화된 최적화들이 포함됩니다.</p>
<p>Relay 최적화 파이프라인의 끝자락에 종단간(end-to-end) 함수(e.g. MobileNet) 전체를 서브함수(e.g. conv2d-relu) 구간들로 조각내는 패스(FuseOps)가 위치합니다. 우리는 이러한 함수 구간들을 호출합니다. 이 과정은 원래의 문제를 두 개의 작은 문제로 대체하도록 도와줍니다:</p>
<ul class="simple">
<li><p>각 서브함수 컴파일과 최적화</p></li>
<li><p>전체적 실행 구조체: 전체 모델을 실행하기 위해서는, 생성된 서브함수들에 대한 일련의 호출이 이어져야 합니다.</p></li>
</ul>
<p>각 서브함수들을 컴파일하고 최적화하기 위해 저수준의 TIR 단계(phase)를 거칩니다. 특정 타겟에 대해, 곧바로 타겟 번역 단계로 직행할 수도 있으며 외부의 코드 생성기를 활용할 수도 있습니다.</p>
<p>이러한 전체 실행의 부분 호출 문제를 다루기 위한 두가지 방법이 있습니다(relay/backend 안에). 흐름 제어가 없고 알려진 모양의 간단한 모델에 대해, 그래프 내에 실행 구조체를 내장한 그래프 런타임으로 저수준화할 수 있습니다. 동적 실행을 위한 가상 머신 백엔드 역시 지원합니다. 마지막으로, 고수준 실행 구조를 실행 가능 바이너리와 생성된 원시 함수들로 변형하는 AOT(Ahead-Of-Time) 컴파일도 지원될 예정입니다. 이러한 모든 실행 모드들은 <strong>runtime.Module</strong> 통합 인터페이스로 포장되며, 본 가이드의 후반부에서 자세히 다루도록 하겠습니다.</p>
<p><strong>tir/transform</strong> 은 TIR 수준의 함수를 위한 변형 패스를 담고 있습니다. 대다수 TIR 패스의 목적은 저수준화에 있습니다. 다차원 액세스를 평탄화하여 일차원 포인터 액세스로 바꾼다든지, 하드웨어 인트린직들을 타겟에 특화된 것으로 확장한다든지, 함수 엔트리를 런타임 호출 규약에 맞게 가공하는 등이 그 예가 될 수 있습니다. 물론 액세스 인덱스 단순화나 죽은 코드 제거 등과 같은 보편적인 최적화 패스도 존재합니다.</p>
<p>대다수의 저수준 최적화는 타겟 단계에서 LLVM, CUDA C, 그 외의 타겟 컴파일러에 의해 다뤄집니다. 따라서 우리는 다운스트림 컴파일러로의 레지스터 할당 등과 같은 저수준 최적화에는 관여하지 않으며, 타겟 컴파일러가 다루지 않는 다른 부분의 최적화에 집중합니다.</p>
</div>
<div class="section" id="search-space-and-learning-based-transformations">
<h3>탐색 공간과 학습 기반 변형<a class="headerlink" href="#search-space-and-learning-based-transformations" title="Permalink to this headline">¶</a></h3>
<p>지금까지 서술된 변형 패스들은 결정론적이고 규칙에 기반했습니다. 한편 TVM 스택의 디자인 목표 중의 하나는 각기 다른 하드웨어 플랫폼에서 고성능의 코드 최적화를 달성하는 것이므로, 다차원 텐서 액세스, 루프 타일링 동작, 특수 가속기의 메모리 구조, 쓰레딩을 비롯해 이에 국한되지 않는 가능한 한 많은 최적화 관련 선택지를 검토해야 할 필요가 있습니다.</p>
<p>이러한 선택지 전부를 감안한 휴리스틱을 정의하기란 매우 어렵습니다. 그 대신 우리는 탐색과 학습에 기반한 접근법을 취할 것입니다. 먼저 프로그램을 변형할 때 활용할 수 있는 활동들의 모음을 정의합니다. 예컨대 루프 변형, 내장(inlining), 벡터화 등이 그런 것들입니다. 우리는 이러한 활동을 <strong>기초 스케줄링(scheduling primitive)</strong> 라고 부릅니다. 기초 스케줄링은 프로그램에 적용 가능한 최적화들에 대한 탐색 공간을 정의해 줍니다. 그러면 시스템은 서로 다른 스케줄링 순서들을 검색해서 최적의 스케줄링 조합을 뽑아 냅니다. 이 탐색 절차는 보통 머신러닝 알고리즘에 의해 조율됩니다.</p>
<p>탐색이 일단 완료되면, (대개 융합된) 연산자 하나에 대한 최고의 스케줄 순서를 기록할 수 있습니다. 컴파일러는 그저 최고의 스케줄 순서를 골라내서 프로그램에 적용하기만 하면 됩니다. 특히 이러한 스케줄 적용 단계는 기존의 규칙 기반 변형과 <strong>완전히 동일하게</strong> 보이기 때문에, 기존의 패스들과 공통된 인터페이스 관례를 공유할 수 있게 합니다.</p>
<p>초기 TIR 함수 생성 문제를 다루기 위해 탐색 기반 최적화를 활용하며, 이 부분의 모듈을 AutoTVM(auto_scheduler)이라고 부릅니다. 우리가 TVM 스택을 계속 개발해 나갈 수록, 더 많은 분야에 학습 기반 변형을 확장해 나갈 수 있으리라 기대합니다.</p>
</div>
<div class="section" id="target-translation">
<h3>타겟 번역<a class="headerlink" href="#target-translation" title="Permalink to this headline">¶</a></h3>
<p>타겟 번역 단계는 IRModule을 상응하는 타겟의 실행가능 바이너리 포맷으로 변형합니다. x86이나 ARM같은 백엔드에서 메모리 실장 LLVM IR을 빌드하기 위해 LLVM IRBuilder가 사용됩니다. CUDA C나 OpenCL같은 소스레벨 언어 역시 만들어낼 수 있습니다. 마지막으로, 외부 코드 생성기로 특정 타겟에 맞게 Relay 함수(서브그래프)를 직역하는 방법도 지원합니다. 최종 코드 생성 단계는 가능한 한 가볍게 하는 것이 중요합니다. 대부분의 변형과 저수준화는 타겟 번역 단계 이전에 수행되어야 합니다.</p>
<p>또한 컴파일 타겟을 특정하기 위한 Target 구조체도 제공됩니다. 타겟 번역 단계 이전의 변형 과정 역시 타겟에 의해 영향을 받을 수 있는데, 벡터화 처리가 타겟의 벡터 길이에 따라 바뀐다든지 하는 점이 그러한 예입니다.</p>
</div>
<div class="section" id="runtime-execution">
<h3>런타임 실행<a class="headerlink" href="#runtime-execution" title="Permalink to this headline">¶</a></h3>
<p>TVM 런타임의 주목적은 파이썬, C++, Rust, Go, 자바, 자바 스크립트 등, 선택된 언어 안에서 컴파일된 아티팩트를 로딩하고 실행하기 위한 최소한의 API만을 제공하는 것입니다. 아래의 코드 조각은 파이썬의 예를 보여줍니다:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tvm</span>
<span class="c1"># Example runtime execution program in python, with type annotated</span>
<span class="n">mod</span><span class="p">:</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">Module</span> <span class="o">=</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">load_module</span><span class="p">(</span><span class="s2">&quot;compiled_artifact.so&quot;</span><span class="p">)</span>
<span class="n">arr</span><span class="p">:</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">NDArray</span> <span class="o">=</span> <span class="n">tvm</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">ctx</span><span class="o">=</span><span class="n">tvm</span><span class="o">.</span><span class="n">gpu</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">fun</span><span class="p">:</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">PackedFunc</span> <span class="o">=</span> <span class="n">mod</span><span class="p">[</span><span class="s2">&quot;addone&quot;</span><span class="p">]</span>
<span class="n">fun</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">asnumpy</span><span class="p">())</span>
</pre></div>
</div>
<p><a class="reference internal" href="../api/python/runtime.html#tvm.runtime.Module" title="tvm.runtime.Module"><code class="xref py py-class docutils literal notranslate"><span class="pre">tvm.runtime.Module</span></code></a> 는 컴파일 결과물을 캡슐화합니다. runtime.Module 하나는 명칭에 따라 PackedFunc을 획득하기 위한 GetFunction 메서드 하나를 포함합니다.</p>
<p><a class="reference internal" href="../api/python/runtime.html#tvm.runtime.PackedFunc" title="tvm.runtime.PackedFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">tvm.runtime.PackedFunc</span></code></a> 은 생성된 함수 두 종류에 모두 대응하는 형식소거 함수 인터페이스입니다. runtime.PackedFunc은 POD 타입(int, float), 스트링, runtime.PackedFunc, runtime.Module, runtime.NDArray, 기타 runtime.Object의 서브 클래스 등과 같은 타입의 인자와 반환값을 취할 수 있습니다.</p>
<p><a class="reference internal" href="../api/python/runtime.html#tvm.runtime.Module" title="tvm.runtime.Module"><code class="xref py py-class docutils literal notranslate"><span class="pre">tvm.runtime.Module</span></code></a> 와 <a class="reference internal" href="../api/python/runtime.html#tvm.runtime.PackedFunc" title="tvm.runtime.PackedFunc"><code class="xref py py-class docutils literal notranslate"><span class="pre">tvm.runtime.PackedFunc</span></code></a> 은 런타임을 모듈화하기 위한 강력한 메커니즘입니다. 예컨대 CUDA에서 상기의 <cite>addone</cite> 함수를 얻기 위해, LLVM을 활용해 론칭 인자(e.g. 쓰레드 그룹의 크기)를 계산하기 위한 호스트 측의 코드를 생성할 수 있고, 그 다음에 CUDA 드라이버 API로 뒷받침되는 CUDAModule에서 또다른 PackedFunc로 호출해 들어갈 수 있습니다. OpenCL 커널에 대해서도 같은 메커니즘이 적용됩니다.</p>
<p>상기 예제는 단순한 <cite>addone</cite> 함수만 다뤘습니다. 아래의 코드 조각은 같은 인터페이스로 종단간 모델 실행의 예를 보여줍니다:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tvm</span>
<span class="c1"># Example runtime execution program in python, with types annotated</span>
<span class="n">factory</span><span class="p">:</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">Module</span> <span class="o">=</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">load_module</span><span class="p">(</span><span class="s2">&quot;resnet18.so&quot;</span><span class="p">)</span>
<span class="c1"># Create a stateful graph execution module for resnet18 on gpu(0)</span>
<span class="n">gmod</span><span class="p">:</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">Module</span> <span class="o">=</span> <span class="n">factory</span><span class="p">[</span><span class="s2">&quot;resnet18&quot;</span><span class="p">](</span><span class="n">tvm</span><span class="o">.</span><span class="n">gpu</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">data</span><span class="p">:</span> <span class="n">tvm</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">NDArray</span> <span class="o">=</span> <span class="n">get_input_data</span><span class="p">()</span>
<span class="c1"># set input</span>
<span class="n">gmod</span><span class="p">[</span><span class="s2">&quot;set_input&quot;</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="c1"># execute the model</span>
<span class="n">gmod</span><span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">]()</span>
<span class="c1"># get the output</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">gmod</span><span class="p">[</span><span class="s2">&quot;get_output&quot;</span><span class="p">](</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">asnumpy</span><span class="p">()</span>
</pre></div>
</div>
<p>요점은 runtime.Module 과 runtime.PackedFunc 로 연산자 수준의 프로그램(addone과 같은)과 종단간 모델 모두를 캡슐화하기에 충분하다는 점입니다.</p>
</div>
<div class="section" id="summary-and-discussions">
<h3>요약 및 토론<a class="headerlink" href="#summary-and-discussions" title="Permalink to this headline">¶</a></h3>
<p>요컨대, 컴파일 과정에서의 핵심 데이터 구조체는:</p>
<ul class="simple">
<li><p>IRModule: relay.Function과 tir.PrimFunc를 담고 있습니다.</p></li>
<li><p>runtime.Module: runtime.PackedFunc을 담고 있습니다.</p></li>
</ul>
<p>컴파일 과정의 대부분은 핵심 데이터 구조체 사이의 변형입니다.</p>
<ul class="simple">
<li><p>relay/transform과 tir/transform은 결정론적인 규칙 기반 변형입니다.</p></li>
<li><p>auto_scheduler와 autotvm은 탐색 기반 변형을 담고 있습니다.</p></li>
</ul>
<p>마지막으로, 컴파일 과정 예시는 TVM 스택의 전형적인 사용례 중 하나일 뿐입니다. 이러한 핵심 데이터 구조체와 변형들이 파이썬과 C++ API로 노출되어 있으므로, 당신은 TVM을 numpy를 쓰듯이 쓸 수 있습니다. 다만 numpy.ndarray를 tvm.IRModule로 변환할 때 영향받는 데이터 구조체들은 예외입니다. 여기에 몇가지 용례가 있습니다:</p>
<ul class="simple">
<li><p>파이썬 API로 IRModule을 직접 구축하기</p></li>
<li><p>변형(e.g. 양자화 커스터마이징)의 커스텀 조합을 구성하기</p></li>
<li><p>TVM의 파이썬 API로 직접 IR을 조작하기</p></li>
</ul>
</div>
</div>
<div class="section" id="logical-architecture-components">
<h2>아키텍쳐 논리 구성 요소<a class="headerlink" href="#logical-architecture-components" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/tlcpack/web-data/main/images/design/tvm_static_overview.svg"><img alt="https://raw.githubusercontent.com/tlcpack/web-data/main/images/design/tvm_static_overview.svg" src="https://raw.githubusercontent.com/tlcpack/web-data/main/images/design/tvm_static_overview.svg" width="85%" /></a>
<p class="caption"><span class="caption-text">TVM 아키텍쳐 다이어그램</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>상기 그림은 프로젝트의 논리적 구성 요소들을 보여주고 있습니다. 이어지는 섹션에서 각 구성 요소와 관련성에 대한 내용을 확인해 주세요.</p>
</div>
<div class="section" id="tvm-support">
<h2>tvm/support<a class="headerlink" href="#tvm-support" title="Permalink to this headline">¶</a></h2>
<p>지원 모듈은 범용 아레나 할당(arena allocator), 소켓, 그리고 로깅 등과 같은 인프라 설비에서 가장 흔하게 사용되는 유틸리티들을 담고 있습니다.</p>
</div>
<div class="section" id="tvm-runtime">
<h2>tvm/runtime<a class="headerlink" href="#tvm-runtime" title="Permalink to this headline">¶</a></h2>
<p>런타임은 TVM 스택의 토대로서 작동합니다. 런타임은 컴파일된 아티팩트들을 로드하고 실행하기 위한 메커니즘을 제공하며, 파이썬이나 Rust같은 프론트엔드 언어와 인터페이스하기 위한 안정적인 표준 C API 집합을 정의합니다.</p>
<p><cite>runtime::Object</cite> 은 <cite>runtime::PackedFunc</cite> 와 함께 TVM 런타임의 핵심 데이터 구조체 중 하나이며, 런타임에서의 타입 검사와 다운캐스팅을 지원하기 위한 타입 인덱스를 지닌 참조 회수(reference-counted) 기반의 클래스입니다. 이 객체 시스템은 개발자로 하여금 런타임에서 활용할 수 있는 배열, 맵, 새로운 IR 데이터 구조와 같은 새로운 데이터 구조체를 고안할 수 있게 합니다.</p>
<p>탑재된 상태로 활용될 때 이외에도, 컴파일러 자체가 TVM 런타임 메커니즘을 혹사시키는 헤비 유저입니다. 모든 IR 데이터 구조체는 <cite>runtime::Object</cite> 의 서브클래스이며, 따라서 파이썬 프론트엔드에서 직접적인 접근과 조작이 모두 가능합니다. 우리는 다양한 API들을 프론트엔드에 노출시키기 위한 메커니즘으로서 PackedFunc 을 활용합니다.</p>
<p>각기 다른 하드웨어 백엔드에 대한 런타임 지원은 런타임의 하부 디렉터리(e.g. runtime/opencl)에 정의되어 있습니다. 이러한 특정 하드웨어 런타임 모듈은 장치 메모리 할당과 장치 함수 직렬화를 위한 API들을 정의합니다.</p>
<p><cite>runtime/rpc</cite> 은 PackedFunc에 대한 RPC 지원을 구현합니다. 우리는 크로스 컴파일된 라이브러리를 원격 장치로 보내고, 실행 성능을 벤치마크하기 위해 RPC 메커니즘을 활용합니다. RPC 인프라는 학습 기반 최적화를 위해 광범위한 하드웨어 백엔드으로부터의 데이터 수집을 가능케 합니다.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="runtime.html">TVM 런타임 시스템</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugger.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtual_machine.html">Putting the VM in TVM: The Relay Virtual Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction_to_module_serialization.html">Introduction to Module Serialization</a></li>
</ul>
</div>
</div>
<div class="section" id="tvm-node">
<h2>tvm/node<a class="headerlink" href="#tvm-node" title="Permalink to this headline">¶</a></h2>
<p>노드 모듈은 IR 데이터 구조에 대한 추가적인 기능을 <cite>runtime::Object</cite> 상에 덧붙입니다. 주요 기능에는 반사, 직렬화, 구조적 평형, 해싱 등이 있습니다.</p>
<p>노드 모듈 덕분에, 파이썬에서 TVM IRNode의 어떤 필드에도 이름으로 바로 접근할 수 있습니다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">tvm</span><span class="o">.</span><span class="n">tir</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;int32&quot;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">tvm</span><span class="o">.</span><span class="n">tir</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="c1"># a and b are fields of a tir.Add node</span>
<span class="c1"># we can directly use the field name to access the IR structures</span>
<span class="k">assert</span> <span class="n">y</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">x</span>
</pre></div>
</div>
<p>또한 임의의 IR 노드를 JSON 포맷으로 직렬화할 수 있고, 다시 역직렬화할 수도 있습니다. IR 노드를 저장하고 검사하는 능력은 컴파일러의 접근성을 높이기 위한 토대가 됩니다.</p>
</div>
<div class="section" id="tvm-ir">
<h2>tvm/ir<a class="headerlink" href="#tvm-ir" title="Permalink to this headline">¶</a></h2>
<p><cite>tvm/ir</cite> 폴더에는 통합 데이터 구조체와 모든 IR 함수 변종을 아우르는 인터페이스들이 담겨 있습니다. <cite>tvm/ir</cite> 의 구성 요소들은 <cite>tvm/relay</cite> 와 <cite>tvm/tir</cite> 에 의해 공유됩니다. 주목해야 할 사항들입니다:</p>
<ul class="simple">
<li><p>IRModule</p></li>
<li><p>Type</p></li>
<li><p>PassContext 와 Pass</p></li>
<li><p>Op</p></li>
</ul>
<p>어떤 함수의 서로 다른 변종들(e.g. relay.Function 과 tir.PrimFunc)은 IRModule 내에서 공존할 수 있습니다. 이러한 변이들이 내용물을 동일하게 표현하지 않는다고 해도, 타입을 표현하기 위한 데이터 구조체는 동일한 것을 사용할 수 있습니다. 결론적으로 이러한 변종들의 함수 (타입) 시그너쳐를 표현하는 데에 동일한 데이터 구조체를 사용합니다. 통합 타입 체계 하에서는, 일단 호출 규약만 명확히 정의된다면 어떤 함수 변종이 다른 함수를 부르는 것도 허용될 수 있습니다. 이는 미래의 함수 변종 간 최적화를 위해 열어둔 가능성입니다.</p>
<p>패스 동작과 패스 파이프라인을 실행하기 위한 공통 조합 패스를 설정하기 위한 통합 PassContext 또한 제공됩니다. 다음은 PassContext를 설정하는 예제 코드 조각입니다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure the behavior of the tir.UnrollLoop pass</span>
<span class="k">with</span> <span class="n">tvm</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">PassContext</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;tir.UnrollLoop&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;auto_max_step&quot;</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}):</span>
    <span class="c1"># code affected by the pass context</span>
</pre></div>
</div>
<p>Op는 시스템이 정의한 모든 원시 연산자/인트린직들을 표현하기 위한 공통 클래스입니다. 개발자는 추가적인 속성(e.g. Op가 원소별로 연산되는지 아닌지)과 함께 새로운 Op를 시스템에 등록할 수 있습니다.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pass_infra.html">패스 인프라스트럭쳐</a></li>
</ul>
</div>
</div>
<div class="section" id="tvm-target">
<h2>tvm/target<a class="headerlink" href="#tvm-target" title="Permalink to this headline">¶</a></h2>
<p>타겟 모듈은 IRModule을 타겟의 runtime.Module로 번역하는 모든 코드 생성기를 담고 있습니다. 또한 모든 타겟을 서술하기 위한 공통 <cite>Target</cite> 클래스도 제공합니다.</p>
<p>컴파일 파이프라인은, 타겟의 속성 정보와 각 타겟 ID(cuda, opencl)에 등록된 빌트인 정보를 질의하여 타겟에 맞게 커스터마이징할 수 있습니다.</p>
</div>
<div class="section" id="tvm-tir">
<h2>tvm/tir<a class="headerlink" href="#tvm-tir" title="Permalink to this headline">¶</a></h2>
<p>TIR은 저수준 프로그램 표현의 정의를 담고 있습니다. TIR 패스로 변형될 수 있는 함수들을 표현하는 데에는 <cite>tir::PrimFunc</cite> 가 쓰입니다. TIR 모듈은 IR 데이터 구조체 뿐 아니라, 공통 Op 레지스트리와 <cite>tir/transform</cite> 내의 변형 패스를 통해 타겟에 빌트인된 인트린직의 집합과 속성을 정의합니다.</p>
</div>
<div class="section" id="tvm-arith">
<h2>tvm/arith<a class="headerlink" href="#tvm-arith" title="Permalink to this headline">¶</a></h2>
<p>이 모듈은 TIR과 밀접하게 엮여 있습니다. 저수준 코드 생성 분야의 핵심적인 문제 중의 하나는 인덱스 산술 특성 — 양가성(positiveness), 변동 경계, 반복자 공간을 기술하는 정수 집합 — 의 분석입니다. arith 모듈은 그러한 (우선적으로 정수) 분석을 수행하기 위한 도구들의 모음을 제공합니다. TIR 패스는 코드를 단순화하고 최적화하는 데에 이러한 분석들을 활용할 수 있습니다.</p>
</div>
<div class="section" id="tvm-te">
<h2>tvm/te<a class="headerlink" href="#tvm-te" title="Permalink to this headline">¶</a></h2>
<p>TE라는 명칭은 &quot;tensor expression&quot; 의 약어입니다. 이 도메인 특화 언어(Domain-Specific Language)는 텐서 표현식으로 작성함으로써 <cite>tir::PrimFunc</cite> 변종을 빠르게 구축할 수 있게끔 합니다. 중요한 점은, 텐서 표현 그 자체는 IRModule 형으로 수납될 수 있는 자기완결적 함수는 아니라는 것입니다. 대신 IRModule 하나를 작성할 때 함께 결부시킬 수 있는 IR의 한 단편입니다.</p>
<p><cite>te/schedule</cite> 은 함수 생성을 제어하기 위한 기초 스케줄링의 모음을 제공합니다. 장래에, 이들 스케줄링 요소들의 일부를 <cite>tir::PrimFunc</cite> 자체에 이식할 수도 있습니다.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="inferbound.html">InferBound Pass</a></li>
<li class="toctree-l1"><a class="reference internal" href="hybrid_script.html">Hybrid Frontend Developer Guide</a></li>
</ul>
</div>
</div>
<div class="section" id="tvm-topi">
<h2>tvm/topi<a class="headerlink" href="#tvm-topi" title="Permalink to this headline">¶</a></h2>
<p>각각의 사용례에 따라 TIR이나 텐서 표현(TE)을 직접 활용해서 연산자를 작성하는 것이 가능하긴 하지만, 번거로운 일이기도 합니다. <cite>topi</cite> (텐서 연산자 인벤토리)는 딥러닝 워크로드에 흔하게 쓰이며 numpy로 정의되는 연산자(TE나 TIR로 작성된) 목록을 제공합니다. 또한 서로 다른 타겟 플랫폼에서도 균일한 성능을 추구하기 위한 공통 스케줄 템플릿의 모음도 제공합니다.</p>
</div>
<div class="section" id="tvm-relay">
<h2>tvm/relay<a class="headerlink" href="#tvm-relay" title="Permalink to this headline">¶</a></h2>
<p>Relay는 전체 모델을 표현하는 데에 사용되는 고수준 함수형 IR입니다. 다양한 최적화들이 <cite>relay.transform</cite> 안에 정의되어 있습니다. Relay 컴파일러는 다수의 파생어(dialect)를 정의하며, 각 파생어는 특정한 최적화 스타일을 지원하기 위해 디자인됩니다. 그 중에 주목할만한 것들은 QNN(사전 양자화된 모델을 불러오기 위한 파생어), VM(동적 가상 머신으로 저수준화하기 위한 파생어), memory(메모리 최적화를 위한 파생어) 등이 있습니다.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="relay_intro.html">Relay IR 소개</a></li>
<li class="toctree-l1"><a class="reference internal" href="relay_op_strategy.html">Relay Operator Strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert_layout.html">Convert Layout Pass</a></li>
</ul>
</div>
</div>
<div class="section" id="tvm-autotvm">
<h2>tvm/autotvm<a class="headerlink" href="#tvm-autotvm" title="Permalink to this headline">¶</a></h2>
<p>AutoTVM과 AutoScheduler 모두 탐색 기반 프로그램 최적화를 자동화하는 요소들입니다. 이 부분은 급진적으로 진화하고 있으며, 주로 다음 내용들로 구성됩니다:</p>
<ul class="simple">
<li><p>비용 모델과 특징 추출</p></li>
<li><p>비용 모델 구축을 위한 프로그램 벤치마크 결과를 저장하는 기록 포맷</p></li>
<li><p>프로그램 변형 공간을 탐색하는 정책의 집합</p></li>
</ul>
<p>자동화된 프로그램 최적화는 여전히 활발하게 연구되는 분야입니다. 그에 부응해 우리는 연구자들이 컴포넌트를 빠르게 수정하거나 파이썬 바인딩으로 그들의 알고리즘을 쉽게 적용하고, 탐색을 커스터마이징하며, 파이썬 바인딩으로 그들의 알고리즘을 쉽게 플러그인할 수 있도록, 디자인을 모듈화하는 시도를 지속해 왔습니다.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">벤치마크 성능 로그 포맷</a></li>
</ul>
</div>
</div>
<div class="section" id="frontends">
<h2>프론트엔드<a class="headerlink" href="#frontends" title="Permalink to this headline">¶</a></h2>
<p>프론트엔드는 다양한 프레임워크로부터 모델들을 섭취해서 TVM 스택으로 소화해 냅니다. <a class="reference internal" href="../api/python/relay/frontend.html#module-tvm.relay.frontend" title="tvm.relay.frontend"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tvm.relay.frontend</span></code></a> 는 모델 섭취 API를 위한 네임스페이스입니다.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="frontend/tensorflow.html">텐서플로우 프론트엔드</a></li>
</ul>
</div>
</div>
<div class="section" id="security">
<h2>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">보안 가이드</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          

<footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="runtime.html" class="btn btn-neutral float-right" title="TVM 런타임 시스템" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../api/links.html" class="btn btn-neutral float-left" title="다른 API 참조를 위한 링크" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>

<div id="button" class="backtop"><img src="../_static//img/right.svg" alt="backtop"/> </div>
<section class="footerSec">
    <div class="footerHeader">
      <ul class="d-flex align-md-items-center justify-content-between flex-column flex-md-row">
        <li class="copywrite d-flex align-items-center">
          <h5 id="copy-right-info">© 2020 Apache Software Foundation | All right reserved</h5>
        </li>
      </ul>

    </div>

    <ul>
      <li class="footernote">Copyright © 2020 The Apache Software Foundation. Apache TVM, Apache, the Apache feather, and the Apache TVM project logo are either trademarks or registered trademarks of the Apache Software Foundation.</li>
    </ul>

</section>
</footer>
        </div>
      </div>

    </section>

  </div>
  

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </body>
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-75982049-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>